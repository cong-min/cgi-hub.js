(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{355:function(t,e,r){"use strict";r.r(e);var s=r(42),c=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"介绍"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),r("p",[r("code",[t._v("cgi-hub.js")]),t._v(" 顾名思义，是一款用于 Client 端 CGI 接口请求统一规范管理 JS 库。它具备以下特性：")]),t._v(" "),r("ul",[r("li",[r("strong",[t._v("接口统一管理：")]),t._v(" 中心化管理所有 CGI 接口，基于命名空间将接口请求函数化、标准化，以提升接口请求与响应的复用性、可拓展性、可维护性")]),t._v(" "),r("li",[r("strong",[t._v("请求生命周期：")]),t._v(" 你可以包装自己喜爱的接口请求基础库，初始化请求各个生命周期的钩子函数，它将利用 Promise 规范化整个请求生命周期流程")]),t._v(" "),r("li",[r("strong",[t._v("错误异常处理：")]),t._v(" 支持请求的统一异常处理，内部暴露请求重试的方法可实现单次接口快速重试。同时用插件可提供各类场景下异常处理的解决方案，减少处理逻辑")]),t._v(" "),r("li",[r("strong",[t._v("TypeScript 支持：")]),t._v(" 它基于 TS 开发，支持对所有 CGI 的请求与响应类型进行推导。推荐在项目中使用 TS 定义接口类型，搭配 JSDoc 实现将 CGI 接口文档展示至 IDE 代码提示中")]),t._v(" "),r("li",[r("strong",[t._v("规范开发约束：")]),t._v(" 它的价值不仅在于提供管理请求接口的基本功能，更在于方便制定一些标准规范约束开发，利于工具自动生成接口的数据类型与请求代码")]),t._v(" "),r("li",[r("strong",[t._v("适用多端解决方案：")]),t._v(" 文档内提供了Web端、小程序端等各端适用的 CGI 请求解决方案，还提供了多个场景下请求方法与错误处理的插件")])]),t._v(" "),r("h2",{attrs:{id:"安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装 `cgi-hub.js`")]),t._v("\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i -S cgi-hub.js\n")])])]),r("div",{staticClass:"language-ts extra-class"},[r("pre",{pre:!0,attrs:{class:"language-ts"}},[r("code",[r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" CgiHub "),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cgi-hub.js'")]),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),r("h2",{attrs:{id:"api"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),r("p",[r("code",[t._v("class CgiHub")])]),t._v(" "),r("h3",{attrs:{id:"cgihub-cgis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cgihub-cgis"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/mcc108/cgi-hub.js/blob/master/packages/cgi-hub.js/src/index.ts#L127",target:"_blank",rel:"noopener noreferrer"}},[t._v("Cgihub(cgis)"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("code",[t._v("构造函数")]),t._v(" 创建实例，并登记 CGI")]),t._v(" "),r("p",[r("strong",[t._v("参数：")]),t._v(" "),r("code",[t._v("{Object} cgis")]),t._v(" 带命名空间的 CGI 列表"),r("br"),t._v(" "),r("strong",[t._v("返回：")]),t._v(" "),r("code",[t._v("{CgiHub} cgihub")]),t._v(" 实例")]),t._v(" "),r("h3",{attrs:{id:"cgihub-createrequest-lifecycle"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cgihub-createrequest-lifecycle"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/mcc108/cgi-hub.js/blob/master/packages/cgi-hub.js/src/index.ts#L83",target:"_blank",rel:"noopener noreferrer"}},[t._v("CgiHub.createRequest(lifecycle)"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("code",[t._v("静态方法")]),t._v(" 根据请求生命周期创建网络请求方法（更多可查阅"),r("a",{attrs:{href:"/guide/lifecycle"}},[t._v("请求生命周期")]),t._v("）")]),t._v(" "),r("p",[r("strong",[t._v("参数：")]),t._v(" "),r("code",[t._v("{Object} lifecycle")]),t._v(" 请求生命周期"),r("br"),t._v(" "),r("code",[t._v("{Function} lifecycle.beforeFetch")]),t._v(" 请求前公共处理方法"),r("br"),t._v(" "),r("code",[t._v("{Function} lifecycle.fetch")]),t._v(" 请求公共方法"),r("br"),t._v(" "),r("code",[t._v("{Function} lifecycle.afterFetch")]),t._v(" 请求后公共处理方法"),r("br"),t._v(" "),r("code",[t._v("{Function} lifecycle.errorHandler")]),t._v(" 异常处理公共方法"),r("br"),t._v(" "),r("strong",[t._v("返回：")]),t._v(" "),r("code",[t._v("{Function} request")]),t._v(" 标准化的请求方法")]),t._v(" "),r("h3",{attrs:{id:"cgihub-plugin-type-install"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cgihub-plugin-type-install"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/mcc108/cgi-hub.js/blob/master/packages/cgi-hub.js/src/index.ts#L71",target:"_blank",rel:"noopener noreferrer"}},[t._v("CgiHub.plugin(type, install)"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("code",[t._v("静态方法")]),t._v(" 注册插件")]),t._v(" "),r("p",[r("strong",[t._v("参数：")]),t._v(" "),r("br"),t._v(" "),r("code",[t._v("{String} type")]),t._v(" 插件类型，对应的请求生命周期名"),r("br"),t._v(" "),r("code",[t._v("{Function} install")]),t._v(" 安装插件对应生命周期的函数"),r("br"),t._v(" "),r("strong",[t._v("返回：")]),t._v(" "),r("code",[t._v("{Function} request")]),t._v(" 对应生命周期的函数")]),t._v(" "),r("h3",{attrs:{id:"cgihub-prototype-add-cgis"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cgihub-prototype-add-cgis"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/mcc108/cgi-hub.js/blob/master/packages/cgi-hub.js/src/index.ts#L138",target:"_blank",rel:"noopener noreferrer"}},[t._v("CgiHub.prototype.add(cgis)"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("code",[t._v("实例方法")]),t._v(" 追加登记 CGI")]),t._v(" "),r("p",[r("strong",[t._v("参数：")]),t._v(" "),r("code",[t._v("{Object} cgis")]),t._v(" 带命名空间的 cgi 列表"),r("br"),t._v(" "),r("strong",[t._v("参数：")]),t._v(" "),r("code",[t._v("{CgiHub} cgihub")]),t._v(" 实例")]),t._v(" "),r("h3",{attrs:{id:"cgihub-prototype-cgi"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cgihub-prototype-cgi"}},[t._v("#")]),t._v(" "),r("a",{attrs:{href:"https://github.com/mcc108/cgi-hub.js/blob/master/packages/cgi-hub.js/src/index.ts#L120",target:"_blank",rel:"noopener noreferrer"}},[t._v("CgiHub.prototype.cgi"),r("OutboundLink")],1)]),t._v(" "),r("p",[r("code",[t._v("实例属性")]),t._v(" 获取当前实例登记的所有 CGI 列表")])])}),[],!1,null,null,null);e.default=c.exports}}]);